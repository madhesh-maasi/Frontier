import type { ICommandLineJson, IPhaseJson, IPhasedCommandJson, IGlobalCommandJson, IFlagParameterJson, IChoiceParameterJson, IStringParameterJson } from './CommandLineJson';
export interface IShellCommandTokenContext {
    packageFolder: string;
}
export interface IPhase extends IPhaseJson {
    /**
     * If set to "true," this this phase was generated from a bulk command, and
     * was not explicitly defined in the command-line.json file.
     */
    isSynthetic: boolean;
    /**
     * This property is used in the name of the filename for the logs generated by this
     * phase. This is a filesystem-safe version of the phase name. For example,
     * a phase with name "_phase:compile" has a `logFilenameIdentifier` of "_phase_compile".
     */
    logFilenameIdentifier: string;
    associatedParameters: Set<Parameter>;
}
export interface ICommandWithParameters {
    associatedParameters: Set<Parameter>;
}
export interface IPhasedCommand extends IPhasedCommandJson, ICommandWithParameters {
    /**
     * If set to "true," this this phased command was generated from a bulk command, and
     * was not explicitly defined in the command-line.json file.
     */
    isSynthetic: boolean;
    watchForChanges?: boolean;
    disableBuildCache?: boolean;
}
export interface IGlobalCommand extends IGlobalCommandJson, ICommandWithParameters {
}
export declare type Command = IGlobalCommand | IPhasedCommand;
export declare type Parameter = IFlagParameterJson | IChoiceParameterJson | IStringParameterJson;
/**
 * Custom Commands and Options for the Rush Command Line
 */
export declare class CommandLineConfiguration {
    private static _jsonSchema;
    readonly commands: Map<string, Command>;
    readonly phases: Map<string, IPhase>;
    readonly parameters: Parameter[];
    /**
     * shellCommand from plugin custom command line configuration needs to be expanded with tokens
     */
    shellCommandTokenContext: IShellCommandTokenContext | undefined;
    /**
     * These path will be prepended to the PATH environment variable
     */
    private readonly _additionalPathFolders;
    /**
     * A map of bulk command names to their corresponding synthetic phase identifiers
     */
    private readonly _syntheticPhasesNamesByTranslatedBulkCommandName;
    /**
     * Use CommandLineConfiguration.loadFromFile()
     *
     * @internal
     */
    constructor(commandLineJson: ICommandLineJson | undefined);
    private _checkForPhaseSelfCycles;
    /**
     * Loads the configuration from the specified file and applies any omitted default build
     * settings.  If the file does not exist, then an empty default instance is returned.
     * If the file contains errors, then an exception is thrown.
     */
    static loadFromFileOrDefault(jsonFilename?: string): CommandLineConfiguration;
    get additionalPathFolders(): Readonly<string[]>;
    prependAdditionalPathFolder(pathFolder: string): void;
    /**
     * This function replaces colons (":") with underscores ("_").
     *
     * ts-command-line restricts command names to lowercase letters, numbers, underscores, and colons.
     * Replacing colons with underscores produces a filesystem-safe name.
     */
    private _normalizeNameForLogFilenameIdentifiers;
    private _translateBulkCommandToPhasedCommand;
}
//# sourceMappingURL=CommandLineConfiguration.d.ts.map